@0
MOV 8 ACC
L:MOV 0 LEFT
SUB 1
JGZ L
S:MOV UP ACC
MOV ACC DOWN
MOV UP DOWN
JGZ A
MOV UP DOWN
A:MOV 8 ACC
R:SUB 1
MOV DOWN LEFT
JGZ R
JMP S

@1


@2
MOV RIGHT ACC
SWP
MOV 8 ACC
L:SUB 1
SWP
MOV ACC DOWN
SUB RIGHT
JEZ 0
MOV 0 RIGHT
JMP R
0:MOV 1 RIGHT
R:MOV DOWN ACC
SWP
JGZ L

@3
MOV RIGHT LEFT
MOV 8 ACC
L:SUB 1
MOV ACC LEFT
SWP
MOV LEFT ACC
JEZ N
MOV UP RIGHT
MOV RIGHT DOWN
JMP E
N:MOV UP DOWN
E:SWP
JGZ L
MOV 8 RIGHT

@4
MOV UP ACC
MOV UP LEFT
JEZ WRITE
MOV LEFT ACC#READ
MOV ACC LEFT
MOV ACC DOWN
JMP R
WRITE:MOV LEFT ACC
MOV UP LEFT
MOV -1 DOWN
R:MOV LEFT ACC
MOV ACC DOWN
L:SUB 1
MOV DOWN UP
JGZ L

@5


@6
MOV UP UP

@7
MOV UP ACC
JLZ S
MOV ACC DOWN
S:MOV UP ACC
L:SUB 1
MOV LEFT UP
JGZ L

@8
