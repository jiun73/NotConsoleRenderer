@0
MOV 999 ACC
S:SAV
MOV RIGHT ACC
JLZ RTRN
SWP
SAV
SUB RIGHT
JGZ L
G:MOV RIGHT NIL
SWP
JMP S
L:MOV RIGHT ACC
JMP S
RTRN:SWP
MOV ACC RIGHT

@1
MOV -1 RIGHT
L:MOV UP ACC
JLZ E
MOV 0 LEFT
MOV ACC LEFT
MOV ACC LEFT
MOV ACC RIGHT
JMP L
E:MOV -1 LEFT
MOV LEFT DOWN
MOV DOWN NIL

@2


@3


@4
MOV ANY ACC
JLZ UP
LFT:MOV ACC RIGHT
JRO -99
UP:MOV 0 UP

@5
MOV -1 RIGHT
MOV LEFT ACC
SAV
L:SWP
MOV ACC LEFT
SWP
MOV UP ACC
JLZ E
SUB LEFT
MOV ACC RIGHT
JMP L
E:MOV LEFT NIL
MOV 0 DOWN
MOV -1 LEFT
MOV DOWN NIL

@6


@7
MOV UP RIGHT
L:MOV RIGHT ACC
JLZ E
MOV ACC DOWN
JMP L
E:MOV -1 DOWN
MOV 0 UP

@8
MOV LEFT ACC
L:MOV UP ACC
JLZ E
MOV ACC LEFT
JMP L
E:MOV -1 LEFT