@0
MOV ANY ACC
ADD 1
JEZ READ
JLZ NEXT
WRITE:SWP
MOV ACC DOWN
JMP SW
READ:SWP
MOV ACC LAST
JMP SA
NEXT:
MOV ACC DOWN
MOV DOWN LAST
SW:SWP
SA:SAV

@1
MOV RIGHT LEFT
MOV UP ACC
MOV ACC RIGHT
MOV ACC RIGHT
SUB 1
MOV ACC LEFT
MOV LEFT ACC
SUB 1
MOV ACC RIGHT

@2
MOV UP LEFT
MOV LEFT DOWN
MOV LEFT ACC
ADD LEFT
MOV ACC DOWN

@3


@4
MOV ANY ACC
ADD 1
JEZ READ
JLZ NEXT
WRITE:SWP
MOV ACC RIGHT
JMP SW
READ:SWP
MOV ACC LAST
JMP SA
NEXT:
MOV ACC RIGHT
MOV RIGHT LAST
SW:SWP
SA:SAV

@5
MOV ANY ACC
ADD 1
JEZ READ
JLZ NEXT
WRITE:SWP
MOV ACC DOWN
JMP SW
READ:SWP
MOV ACC LAST
JMP SA
NEXT:
MOV ACC DOWN
MOV DOWN LAST
SW:SWP
SA:SAV

@6
MOV UP ACC
ADD 4
JEZ -
MOV UP DOWN
JRO -99
-:MOV -1 DOWN
MOV UP DOWN

@7


@8
MOV ANY ACC
ADD 1
JEZ READ
JLZ NEXT
WRITE:SWP
MOV ACC RIGHT
JMP SW
READ:SWP
MOV ACC LAST
JMP SA
NEXT:
MOV ACC RIGHT
MOV RIGHT LAST
SW:SWP
SA:SAV

@9
MOV LEFT ACC
ADD 1
JEZ READ
WRITE:SWP
JMP SW
READ:SWP
MOV ACC LEFT
JMP SA
SW:SWP
SA:SAV
MOV UP ACC
JLZ E
MOV ACC DOWN
E:

@10
