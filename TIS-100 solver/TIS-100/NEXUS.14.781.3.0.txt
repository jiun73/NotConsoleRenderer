@0
MOV 10 ACC
MOV 0 LEFT
L:SWP
MOV UP ACC
JEZ E
MOV ACC DOWN
SWP
SUB 1
JGZ L
E:MOV ACC DOWN
MOV DOWN ACC

@1
S:MOV DOWN ACC
JEZ 3
4:MOV 3 DOWN
MOV 3 DOWN
MOV 3 DOWN
MOV 0 DOWN
JMP S
3:MOV 0 DOWN
MOV 3 DOWN
MOV 3 DOWN
MOV 0 DOWN

@2
S:MOV RIGHT ACC
JEZ N
MOV ACC UP
JMP S
N:MOV 0 DOWN
L:MOV UP ACC
JEZ E
MOV ACC DOWN
JMP L
E:MOV 0 RIGHT

@3
L:MOV UP ACC
MOV ACC LEFT
JNZ L
MOV LEFT DOWN
MOV DOWN UP

@4
S:MOV 0 ACC
MOV DOWN ACC
SUB 3
JLZ 1_2
3_4:MOV ACC UP
MOV 4 ACC
L3:MOV UP DOWN
SUB 1
JGZ L3
JMP S
1_2:MOV ACC RIGHT
MOV 4 ACC
L1:MOV RIGHT DOWN
SUB 1
JGZ L1

@5
S:MOV LEFT ACC
ADD 2
JEZ 1
2:MOV 3 LEFT
MOV 0 LEFT
MOV 0 LEFT
MOV 3 LEFT
JMP S
1:MOV 3 LEFT
MOV 0 LEFT
MOV 3 LEFT
MOV 0 LEFT

@6
MOV UP ACC
L:MOV LEFT ACC
JEZ E
MOV ACC RIGHT
SWP
MOV ACC RIGHT
MOV ACC RIGHT
SWP
JMP L
E:MOV 0 RIGHT
MOV 0 UP
SWP
ADD 3
SWP

@7
R:MOV LEFT ACC
MOV ACC RIGHT
JEZ R
MOV ACC UP
MOV RIGHT DOWN
MOV LEFT DOWN
MOV UP DOWN
MOV UP DOWN
MOV -1 DOWN
MOV RIGHT DOWN
MOV LEFT RIGHT
MOV RIGHT DOWN
MOV UP DOWN
MOV UP DOWN
MOV -1 DOWN

@8
S:MOV LEFT ACC
JEZ R
SWP
MOV ACC LEFT
MOV ACC LEFT
ADD 3
SWP
MOV LEFT ACC
ADD 1
MOV ACC LEFT
JRO -99
R:SWP
MOV 0 ACC
SWP