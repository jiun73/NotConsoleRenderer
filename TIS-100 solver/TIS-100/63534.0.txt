@0
MOV 0 RIGHT
L:MOV UP ACC
JEZ END
MOV ACC RIGHT
JMP L
END:MOV 0 DOWN
MOV DOWN ACC
JLZ S
MOV 0 RIGHT
L2:MOV DOWN ACC
JEZ END
L4:JLZ L2
MOV ACC RIGHT
JMP L2
S:MOV DOWN ACC

@1
MOV DOWN ACC
JEZ 0
MOV 999 ACC
SAV
0:SWP
SAV
SUB DOWN
JGZ TRU
MOV DOWN ACC
SWP
SAV
JMP S
TRU:MOV DOWN ACC
SAV
S:MOV ACC DOWN

@2
END:MOV RIGHT ACC
SAV
S:SUB RIGHT
JEZ TRU
MOV RIGHT RIGHT
JMP R
TRU:MOV RIGHT ACC
MOV -1 RIGHT
MOV -1 ACC
SAV
R:MOV RIGHT ACC
JEZ END
SWP
SAV
JMP S

@3
END:MOV UP RIGHT
MOV 0 DOWN
L:MOV RIGHT ACC
JEZ EL
MOV ACC DOWN
JMP L
EL:MOV RIGHT LEFT
MOV RIGHT UP
L2:MOV DOWN ACC
MOV ACC LEFT
MOV ACC LEFT
MOV LEFT UP
MOV ACC LEFT
JEZ END
JMP L2

@4
MOV LEFT ACC
MOV -1 RIGHT
L:MOV UP ACC
MOV ACC LEFT
JEZ END
MOV ACC RIGHT
MOV RIGHT ACC
SAV
MOV 0 RIGHT
JMP L
END:SWP
MOV ACC DOWN
MOV ACC LEFT
MOV 0 RIGHT
MOV RIGHT LEFT

@5
MOV LEFT UP
MOV LEFT ACC
MOV ACC UP
MOV ACC UP
MOV ACC DOWN
JEZ END
MOV UP LEFT
JRO -999
END:MOV DOWN LEFT
MOV UP ACC

@6


@7
MOV UP DOWN

@8
S:MOV UP ACC
JEZ T1
SWP
ADD 1
SWP
JMP S
T1:SWP
JEZ T2
MOV 0 UP
JMP R
T2:MOV -1 UP
R:MOV 0 ACC
SAV