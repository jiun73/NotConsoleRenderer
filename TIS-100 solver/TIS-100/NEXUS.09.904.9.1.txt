@0
E:MOV UP ACC
MOV ACC DOWN
JEZ E
MOV -1 RIGHT
JRO ACC
MOV LEFT RIGHT
MOV LEFT RIGHT
MOV LEFT RIGHT
MOV LEFT RIGHT
MOV LEFT DOWN
MOV DOWN LEFT
L:MOV RIGHT ACC
JLZ E
MOV ACC LEFT
JMP L

@1
MOV 5 ACC
L:SUB 1
MOV 0 UP
JNZ L
MOV 0 RIGHT
L2:MOV RIGHT ACC
JEZ E
MOV 1 DOWN
MOV UP ACC
MOV ACC DOWN
MOV ACC DOWN
MOV ACC RIGHT
JMP L2
E:MOV 9 DOWN
MOV DOWN RIGHT

@2
MOV LEFT NIL
A:MOV UP ACC
JEZ E
MOV UP ACC
ADD 1
MOV ACC UP
JMP A
E:MOV 5 ACC
L:SUB 1
MOV 1 LEFT
MOV LEFT RIGHT
JNZ L
MOV 0 LEFT
MOV LEFT RIGHT
MOV DOWN NIL

@3
MOV 5 ACC
L:SUB 1
MOV LEFT UP
JNZ L
MOV LEFT DOWN
MOV 5 ACC
MOV -1 DOWN
L2:SUB 1
SWP
MOV UP ACC
SUB DOWN
MOV ACC DOWN
SWP
JNZ L2

@4
JRO ANY
SUB UP
JGZ L
MOV UP ACC
JMP S
L:MOV UP NIL
SWP
JMP S
SWP
MOV ACC UP
MOV 0 ACC
S:SAV
JRO -99
ADD 1
MOV ACC RIGHT

@5
S:MOV RIGHT ACC
MOV RIGHT NIL
MOV 13 LEFT
MOV LEFT NIL
JNZ S
L:MOV RIGHT ACC
JNZ NF
MOV 10 LEFT
NF:MOV RIGHT ACC
JNZ L
MOV 14 LEFT
MOV LEFT DOWN
MOV 0 UP
MOV 10 LEFT

@6
MOV UP ACC
JGZ WRITE
ROUT:
MOV 5 ACC
L:SUB 1
SWP
MOV ACC UP
SWP
MOV UP LEFT
MOV ACC LEFT
JNZ L
MOV -1 LEFT
MOV 0 LEFT
WRITE:SAV