@0
MOV 0 RIGHT
A:MOV UP ACC
JEZ 0
MOV ACC RIGHT
SWP
ADD 1
SWP
JMP A
0:MOV 0 DOWN
JMP A

@1
MOV UP DOWN
MOV DOWN ACC
MOV 0 LEFT
L:JLZ END
 MOV ACC LEFT
 MOV DOWN ACC
JMP L
END:MOV 0 DOWN

@2
MOV UP RIGHT

@3
MOV LEFT ACC
A:MOV 0 DOWN
L:MOV UP ACC
 JEZ END
 MOV ACC DOWN
JMP L
END:MOV 0 RIGHT
MOV RIGHT ACC
JMP A

@4
MOV UP RIGHT
MOV LEFT DOWN
L:MOV DOWN ACC
 JEZ END
 MOV ACC UP
JMP L
END:MOV -1 UP
MOV UP LEFT

@5
END:MOV LEFT ACC
ADD 1
SAV
L:MOV DOWN ACC
 JLZ END
 SWP
 SAV
 SUB DOWN
 JEZ TRUE
 MOV 0 DOWN
 JMP L
 TRUE:MOV 1 DOWN
 SWP
 SAV
 JMP L

@6


@7
MOV UP ACC
L:MOV LEFT ACC
 JEZ END
 MOV ACC UP
 MOV ACC RIGHT
  SAV
 MOV RIGHT ACC
 JEZ F
  SWP
  MOV ACC DOWN
  SWP
 F:SWP
 JMP L
END:MOV 0 UP
MOV 0 RIGHT

@8
L:MOV LEFT ACC
 JEZ END
 SWP
 ADD 1
 MOV ACC UP
 MOV ACC UP
 SWP
 MOV UP LEFT
 JMP L
END:MOV -1 UP
MOV 0 ACC
SAV